<div class="container mt-4 animate__animated animate__fadeIn" *ngIf="!isLoading && conference; else stateTemplates">
  
  <div class="row g-4">
    <div class="col-lg-8">
      <div class="card border-0 shadow-sm rounded-4 p-4 mb-4 bg-white">
        <h5 class="fw-bold mb-3 border-bottom pb-2 text-dark">Event Overview</h5>
        <p class="text-secondary" style="white-space: pre-line;">{{ conference.description || 'No description provided.' }}</p>
      </div>

      <div class="card border-0 shadow-sm rounded-4 overflow-hidden bg-white">
        <div class="card-header bg-white p-3 border-bottom">
           <h6 class="fw-bold mb-0 text-uppercase ls-1 small text-muted"><i class="bi bi-calendar3 me-2"></i>Live Schedule</h6>
        </div>
        <div class="card-body p-4">
          </div>
      </div>
    </div>

    <div class="col-lg-4">
      <div class="card border-0 shadow-lg rounded-4 bg-dark text-white mb-4 overflow-hidden">
        <div class="card-body p-4 text-center">
          <div class="bg-warning text-dark rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" style="width: 60px; height: 60px;">
            <i class="bi bi-person-plus-fill fs-3"></i>
          </div>
          <h4 class="fw-bold mb-2">Registration</h4>
          <p class="small opacity-75 mb-4">Register as a participant to join the sessions.</p>
          
          <div class="p-3 bg-white bg-opacity-10 rounded-4 mb-4 border border-white border-opacity-10">
            <label class="d-block small text-uppercase fw-bold opacity-50 mb-1">Status (MYT)</label>
            <span class="fw-bold fs-5" [ngClass]="isConferenceClosed ? 'text-danger' : 'text-warning'">
              {{ isConferenceClosed ? 'Closed' : 'Open' }}
            </span>
          </div>

          <a [routerLink]="['/dashboard/conference-registration', conference.conference_id]" 
             class="btn btn-warning w-100 rounded-pill py-3 fw-bold shadow-sm transition-all hover-scale"
             [class.disabled]="isConferenceClosed">
            <i class="bi bi-pencil-square me-2"></i>
            {{ isConferenceClosed ? 'Registration Closed' : 'Register for Meeting' }}
          </a>
        </div>
      </div>

      <div class="card border-0 shadow-sm rounded-4 p-4 bg-white border-dashed text-center">
        <div class="mb-3">
          <i class="bi bi-file-earmark-arrow-up text-primary fs-2"></i>
        </div>
        <h5 class="fw-bold text-dark">Become a Presenter</h5>
        <p class="text-muted small mb-4">Submit your research manuscript for peer review and get a chance to present live.</p>
        
        <div class="mb-3 d-flex justify-content-between align-items-center border-bottom pb-2">
          <span class="small text-muted">Submission Link</span>
          <span class="badge" [ngClass]="isConferenceClosed ? 'bg-danger-subtle text-danger' : 'bg-success-subtle text-success'">
            {{ isConferenceClosed ? 'Closed' : 'Active' }}
          </span>
        </div>

        <a [routerLink]="['/dashboard/submit-paper']" 
           [queryParams]="{ confId: conference.conference_id }"
           class="btn btn-outline-primary w-100 rounded-pill fw-bold btn-sm py-2"
           [class.disabled]="isConferenceClosed">
          <i class="bi bi-file-earmark-plus me-1"></i>
          {{ isConferenceClosed ? 'Submissions Closed' : 'Submit Manuscript' }}
        </a>
      </div>
    </div>
  </div>
</div>

<ng-template #stateTemplates>
  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-grow text-primary" role="status"></div>
    <p class="text-muted mt-3">Loading details...</p>
  </div>
  <div *ngIf="error" class="alert alert-danger rounded-4 p-4 mt-5 text-center">
    <h5 class="fw-bold">{{ error }}</h5>
    <a routerLink="/dashboard/conferences" class="btn btn-danger mt-3 rounded-pill px-4">Return to List</a>
  </div>
</ng-template>