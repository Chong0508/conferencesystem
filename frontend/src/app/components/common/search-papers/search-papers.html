<div class="container mt-5 animate__animated animate__fadeIn">
  <div class="text-center mb-5">
    <h2 class="fw-bold text-dark">Research Proceedings</h2>
    <p class="text-muted">Browse through all registered and finalized conference papers.</p>
    
    <div class="row justify-content-center mt-4">
      <div class="col-md-7">
        <div class="input-group input-group-lg shadow-sm">
          <span class="input-group-text bg-white border-end-0"><i class="bi bi-search text-primary"></i></span>
          <input type="text" class="form-control border-start-0 ps-0" 
                 placeholder="Search by title, author, or keywords..." 
                 [(ngModel)]="searchQuery" (input)="onSearch()">
        </div>
      </div>
    </div>
  </div>

  <div *ngIf="isLoading" class="text-center py-5">
    <div class="spinner-grow text-primary" role="status"></div>
  </div>

  <div *ngIf="!isLoading && filteredPapers.length === 0" class="text-center py-5">
    <i class="bi bi-journal-x display-1 text-muted opacity-25"></i>
    <h5 class="mt-3 text-secondary">No papers match your search.</h5>
  </div>

  <div class="row" *ngIf="!isLoading">
    <div class="col-md-6 col-lg-4 mb-4" *ngFor="let paper of filteredPapers">
      <div class="card h-100 border-0 shadow-sm hover-shadow transition-all rounded-4">
        <div class="card-body p-4">
          <div class="d-flex justify-content-between mb-2">
            <span class="badge bg-primary-subtle text-primary border border-primary-subtle rounded-pill">
              Track {{ paper.trackId }}
            </span>
            <small class="text-muted">ID: #{{ paper.paperId }}</small>
          </div>
          
          <h5 class="fw-bold text-dark mb-3 text-truncate-2">{{ paper.title }}</h5>
          
          <p class="text-muted small text-truncate-3 mb-3">
            {{ paper.abstract }}
          </p>

          <div class="d-flex align-items-center mb-4">
            <div class="avatar-sm bg-light rounded-circle me-2 d-flex align-items-center justify-content-center">
              <i class="bi bi-person text-secondary"></i>
            </div>
            <span class="small fw-bold text-dark">{{ paper.submitterName || 'Lead Author' }}</span>
          </div>

          <div class="d-grid">
            <button class="btn btn-outline-primary rounded-pill" (click)="viewManuscript(paper.fileName)">
              <i class="bi bi-file-earmark-pdf me-2"></i>View Paper
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>